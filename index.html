<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–º–∞—Ä—Ç–ü–ª–æ—â–∞–¥–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">
    <header class="header">
        <h1>–°–º–∞—Ä—Ç–ü–ª–æ—â–∞–¥–∫–∞</h1>
        <div class="header-controls">
            <button id="compare-btn" class="compare-btn" onclick="showCompare()">‚öñÔ∏è <span id="compare-count">0</span></button>
            <div id="cart-icon" class="cart-icon">–ö–æ—Ä–∑–∏–Ω–∞ <span id="cart-count">0</span></div>
        </div>
    </header>

    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('catalog')">–ö–∞—Ç–∞–ª–æ–≥</button>
        <button class="tab-btn" onclick="switchTab('info')">–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</button>
        <button class="tab-btn" onclick="switchTab('history')">–ò—Å—Ç–æ—Ä–∏—è</button>
    </div>

    <div id="catalog-tab" class="tab-content">
        <div class="search-bar">
            <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫..." oninput="debouncedSearch()">
        </div>

        <div class="controls-row">
            <div class="brand-filters">
                <button class="filter-btn active" data-brand="all" onclick="filterByBrand('all')">–í—Å–µ</button>
                <button class="filter-btn" data-brand="Samsung" onclick="filterByBrand('Samsung')">Samsung</button>
                <button class="filter-btn" data-brand="Honor" onclick="filterByBrand('Honor')">Honor</button>
                <button class="filter-btn" data-brand="Huawei" onclick="filterByBrand('Huawei')">Huawei</button>
            </div>

            <div class="sort-options">
                <select id="sort-select" onchange="applySort()">
                    <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                    <option value="price_asc">–¶–µ–Ω–∞ ‚Üë</option>
                    <option value="price_desc">–¶–µ–Ω–∞ ‚Üì</option>
                    <option value="name_asc">–ù–∞–∑–≤–∞–Ω–∏–µ –ê-–Ø</option>
                    <option value="name_desc">–ù–∞–∑–≤–∞–Ω–∏–µ –Ø-–ê</option>
                    <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                    <option value="popular">–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</option>
                </select>
            </div>
        </div>

        <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
        <div id="recommendations-section" class="recommendations-section hidden">
            <h3>üî• –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º</h3>
            <div id="recommendations-list" class="recommendations-list"></div>
        </div>

        <main class="phones-container">
            <div id="phones-list" class="phones-grid"></div>
        </main>
    </div>

    <div id="info-tab" class="tab-content hidden">
        <div class="info-form">
            <label>–ò–º—è:</label>
            <input type="text" id="user-name" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
            <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label>
            <input type="tel" id="user-phone" placeholder="+7 (999) 123-45-67">
            <button class="promo-btn" onclick="applyPromoCode()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</button>
        </div>
    </div>

    <div id="history-tab" class="tab-content hidden">
        <div class="history-section">
            <h3>üì± –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</h3>
            <div id="history-list" class="history-list"></div>
            
            <h3 style="margin-top: 20px;">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
            <div id="favorites-list" class="favorites-list"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="phone-detail-modal" class="modal hidden">
        <button class="close-modal" onclick="closeAllModals()">√ó</button>
        <img id="detail-img" src="" alt="" onerror="this.src='https://via.placeholder.com/300x400/f0f0f0/666?text=–ù–µ—Ç+—Ñ–æ—Ç–æ'">
        <h2 id="detail-name"></h2>
        <div id="detail-rating" class="detail-rating"></div>
        <p id="detail-variant"></p>
        <ul id="detail-specs"></ul>
        <div class="price">
            <span class="old-price" id="detail-old-price"></span>
            <span class="new-price" id="detail-new-price"></span>
        </div>
        <div class="detail-actions">
            <button id="detail-buy-btn" class="buy-btn">–í –∫–æ—Ä–∑–∏–Ω—É</button>
            <button id="detail-compare-btn" class="compare-btn-small">–°—Ä–∞–≤–Ω–∏—Ç—å</button>
            <button id="detail-favorite-btn" class="favorite-btn">‚ù§Ô∏è</button>
        </div>
    </div>

    <div id="modal-overlay" class="overlay hidden" onclick="closeAllModals()"></div>

    <div id="cart-modal" class="cart-modal hidden">
        <div class="cart-header">
            <h3>–ö–æ—Ä–∑–∏–Ω–∞</h3>
            <button id="clear-cart" class="clear-btn">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
        </div>
        <div class="cart-items-container">
            <ul id="cart-items"></ul>
        </div>
        <div class="cart-total">
            –ò—Ç–æ–≥–æ: <span id="cart-total-price">0</span> ‚ÇΩ
        </div>
        <button id="checkout-btn" class="buy-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        <button class="promo-btn" onclick="applyPromoCode()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</button>
        <button class="close-btn" onclick="closeAllModals()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div id="compare-modal" class="modal hidden">
        <div class="compare-header">
            <h3>‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤</h3>
            <button class="close-modal" onclick="closeAllModals()">√ó</button>
        </div>
        <div id="compare-list" class="compare-list"></div>
        <button class="close-btn" onclick="closeAllModals()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <footer class="footer">
        <p>–ò–ü –ì–æ–ª–∏–∫–æ–≤ –ù–∏–∫–∏—Ç–∞ –°–µ—Ä–≥–µ–µ–≤–∏—á</p>
        <p>–ò–ù–ù: 253502067548</p>
        <button class="theme-toggle" onclick="toggleTheme()">üåô –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
    </footer>
</div>

<!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
<div id="notifications-container"></div>

<script src="script.js"></script>
</body>
</html>
